{% extends 'base.html' %}

{% block title %}SecureAuth - Enterprise Access Portal{% endblock %}

{% block content %}
<div class="login-card">
    <!-- Logo Section -->
    <div class="logo-section">
        <div class="logo-container">
            <div class="logo" onclick="logoClick()" tabindex="0" role="button" aria-label="SecureAuth logo">
                <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="rgba(255,255,255,0.9)"/>
                            <stop offset="100%" stop-color="rgba(255,255,255,1)"/>
                        </linearGradient>
                    </defs>
                    <!-- Shield outline -->
                    <path d="M50 10 L20 25 L20 50 C20 70, 35 85, 50 90 C65 85, 80 70, 80 50 L80 25 Z" 
                          fill="none" stroke="url(#logoGrad)" stroke-width="3"/>
                    <!-- Lock body -->
                    <rect x="35" y="45" width="30" height="25" rx="3" fill="url(#logoGrad)"/>
                    <!-- Lock shackle -->
                    <path d="M40 45 L40 35 C40 27, 45 22, 50 22 C55 22, 60 27, 60 35 L60 45" 
                          fill="none" stroke="url(#logoGrad)" stroke-width="3"/>
                    <!-- Keyhole -->
                    <circle cx="50" cy="55" r="3" fill="rgba(0,102,204,0.8)"/>
                    <rect x="48.5" y="58" width="3" height="6" fill="rgba(0,102,204,0.8)"/>
                </svg>
            </div>
        </div>
        <div class="brand-name">SecureAuth</div>
        <div class="brand-tagline">Enterprise Security Platform</div>
    </div>

    <!-- Welcome Section -->
    <div class="welcome-section">
        <h1>Welcome Back</h1>
        <p>Access your secure workspace with enterprise-grade authentication</p>
    </div>

    <!-- Login Form -->
    <form class="login-form" action="{% url 'adfs_login' %}" method="get">
        <button type="submit" class="login-button" id="loginButton">
            <div class="button-content">
                <div class="loading-spinner"></div>
                <span class="button-text">Login with SSO</span>
                <svg width="22" height="22" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
        </button>
    </form>
    
    <!-- Security Features -->
    <div class="security-features">
        <div class="security-item" onclick="showSecurityInfo('sso')">
            <svg class="security-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
            </svg>
            <div class="security-content">
                <div class="security-text">Enterprise SSO</div>
            </div>
        </div>
        <div class="security-item" onclick="showSecurityInfo('mfa')">
            <svg class="security-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
            <div class="security-content">
                <div class="security-text">Multi-Factor Auth</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function showSecurityInfo(type) {
    const securityInfo = {
        sso: {
            title: 'Enterprise Single Sign-On',
            message: 'Secure authentication through Active Directory Federation Services (ADFS) with enterprise-grade security protocols and seamless integration.'
        },
        mfa: {
            title: 'Multi-Factor Authentication',
            message: 'Additional security layer requiring multiple forms of verification including SMS, authenticator apps, or hardware tokens for enhanced protection.'
        }
    };
    
    const info = securityInfo[type];
    if (info) {
        showToast(info.title, info.message, 'info');
    }
}

function logoClick() {
    const logo = document.querySelector('.logo');
    logo.style.transform = 'scale(1.1) rotate(360deg)';
    showToast('SecureAuth', 'Enterprise Security Platform - Protecting your digital workspace with advanced authentication and authorization solutions.', 'info');
    
    setTimeout(() => {
        logo.style.transform = '';
    }, 600);
}
</script>
{% endblock %}
